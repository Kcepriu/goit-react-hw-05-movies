"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[22],{105:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(87),i=t(689),a=t(184),s=function(e){var n=e.films,t=(0,i.TH)();return(0,a.jsx)("ul",{children:n.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"/movies/".concat(e.id),state:{from:t},children:e.title})},e.id)}))})}},22:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,i,a,s,o=t(861),l=t(439),u=t(757),c=t.n(u),m=t(87),p=t(791),f=t(10),h=t(168),x=t(444),d=(x.ZP.div(r||(r=(0,h.Z)(["\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n"]))),x.ZP.form(i||(i=(0,h.Z)(["\n  display: flex;\n  gap: 3px;\n"])))),v=x.ZP.input(a||(a=(0,h.Z)(["\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  font: inherit;\n"]))),Z=x.ZP.button(s||(s=(0,h.Z)(["\n  border-radius: 4px;\n"]))),b=t(184),j=function(e){var n=e.onSubmitForm;return(0,b.jsxs)(d,{onSubmit:n,children:[(0,b.jsx)(v,{name:"searchFilm",type:"text",autoComplete:"on",autoFocus:!0,placeholder:"Search films"}),(0,b.jsx)(Z,{type:"submit",children:"Search"})]})},F=function(e){var n=e.nameFilms;return(0,b.jsxs)("p",{children:["No find film with name ",n]})},g=t(105),k=t(35),w=function(){var e,n=(0,f.u)().apiThemoviedb,t=(0,m.lr)(),r=(0,l.Z)(t,2),i=r[0],a=r[1],s=(0,p.useState)([]),u=(0,l.Z)(s,2),h=u[0],x=u[1],d=(0,p.useState)(!1),v=(0,l.Z)(d,2),Z=v[0],w=v[1],S=null!==(e=i.get("nameFilms"))&&void 0!==e?e:"";return(0,p.useEffect)((function(){if(""!==S){var e=new AbortController;return function(e){t.apply(this,arguments)}(S),function(){e.abort()}}function t(){return t=(0,o.Z)(c().mark((function t(r){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.prev=1,t.next=4,n.searchFilm({controller:e,nameFilms:r});case 4:i=t.sent,x(i.results),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),x([]),console.log("Error fetch",t.t0);case 12:return t.prev=12,w(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])}))),t.apply(this,arguments)}x([])}),[S,n]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j,{onSubmitForm:function(e){e.preventDefault();var n=e.target,t=n.elements.searchFilm.value;a(""!==t?{nameFilms:t}:{}),x([]),n.reset()}}),Z&&(0,b.jsx)(k.Z,{}),0===h.length&&""!==S&&!Z&&(0,b.jsx)(F,{nameFilms:S}),0!==h.length&&(0,b.jsx)(g.Z,{films:h})]})}}}]);
//# sourceMappingURL=22.5be8fb89.chunk.js.map